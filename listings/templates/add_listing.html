{% extends 'base2.html' %}

{% block content %}
{% load static %}
<section class="add_listing" id="add_listing">
    <div class="listing-form-container">
        <h1>Add Property Listing</h1>
        {% if messages %}
        <div class="messages">
            {% for message in messages %}
            <div class="alert alert-{{ message.tags }}">
                {{ message }}
                <span class="close" onclick="this.parentElement.style.display='none'">&times;</span>
            </div>
            {% endfor %}
        </div>
        {% endif %}
        <form class="listing-form" method="POST" enctype="multipart/form-data">
            {% csrf_token %}
        
            <div class="listing-form-fields">
                <!-- Title -->
                <label for="{{ form.title.id_for_label }}">Title:</label>
                {{ form.title }}
        
                <!-- Price -->
                <label for="{{ form.price.id_for_label }}">Price:</label>
                {{ form.price }}
        
                <!-- Location -->
                <label for="{{ form.location.id_for_label }}">Location:</label>
                {{ form.location }}
        
                <!-- Description -->
                <label for="{{ form.description.id_for_label }}">Description:</label>
                {{ form.description }}
        
                <!-- Room Size -->
                <label for="{{ form.size.id_for_label }}">Size:</label>
                {{ form.size }}
        
                <!-- Property Type (Choices field) -->
                <label for="{{ form.property_type.id_for_label }}">Property Type:</label>
                {{ form.property_type }}
        
                <!-- Listing Type (Choices field) -->
                <label for="{{ form.listing_type.id_for_label }}">Listing Type:</label>
                {{ form.listing_type }}
        
                <!-- Availability (Choices field) -->
                <label for="{{ form.availability.id_for_label }}">Availability:</label>
                {{ form.availability }}
        
                <!-- Condition (Choices field) -->
                <label for="{{ form.condition.id_for_label }}">Condition:</label>
                {{ form.condition }}
        
                <!-- Furnishing Choices (Choices field) -->
                <label for="{{ form.furnishing.id_for_label }}">Furnishing:</label>
                {{ form.furnishing }}
            </div>
        
            <!-- File input for multiple image uploads -->
            <label for="image_files">Upload Images:</label>
            <input type="file" name="image_files" accept="image/*" multiple>
        
            <!-- Features (Many-to-Many relationship) -->
            <label for="features">Features:</label>
            <div>
                {% for feature in form.features %}
                    <div>
                        {{ feature }}
                    </div>
                {% endfor %}
            </div>
        
            <button type="submit" class="submit-button">Submit Listing</button>
        </form>
    </div>
</section>
{% endblock %}
